"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[710],{9328:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(6058),l=s(8696),r=s(579);const n=e=>{let{title:t}=e;(0,l.zh)({from:{transform:"translateY(-100%)",opacity:0},to:{transform:"translateY(0)",opacity:1},config:{tension:200,friction:20}}),(0,l.zh)({from:{transform:"scale(0.8) translateY(-20px)",opacity:0},to:{transform:"scale(1) translateY(0)",opacity:1},config:{tension:220,friction:18}});const s=(0,l.zh)({from:{opacity:0,filter:"blur(10px)"},to:{opacity:1,filter:"blur(0px)"},config:{duration:300}});(0,l.zh)({from:{transform:"translateX(-100%) rotate(-10deg)",opacity:0},to:{transform:"translateX(0) rotate(0deg)",opacity:1},config:{tension:250,friction:20}});return(0,r.jsx)("div",{className:"modal fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:(0,r.jsxs)(l.CS.div,{style:s,children:[" ",(0,r.jsxs)("div",{className:"modal-wrap md:min-w-96 xs:max-w-72 md:max-w-max bg-white shadow-lg p-6 text-center",children:[(0,r.jsx)("div",{className:"flex justify-end items-center border-gray-200"}),(0,r.jsx)(a.qK0,{className:"text-center mx-auto text-5xl"}),(0,r.jsx)("h1",{className:"modal-accept xs:text-md md:text-xl mt-4 uppercase font-light",children:t})]})]})})}},8702:(e,t,s)=>{s.d(t,{A:()=>m});var a=s(5043),l=s(3216),r=s(5475),n=(s(948),s(579));const m=e=>{let{className:t}=e;const[s,m]=(0,a.useState)([]),i=(0,l.zy)().pathname.split("/").filter((e=>e));return console.log(i),(0,n.jsx)("nav",{className:`${t} my-6`,"aria-label":"Breadcrumb",children:(0,n.jsxs)("ol",{className:"flex flex-wrap items-center gap-2 text-sm text-gray-600",children:[(0,n.jsx)("li",{children:(0,n.jsxs)(r.N_,{to:"/",className:"block transition hover:text-gray-700",children:[(0,n.jsx)("span",{className:"sr-only",children:"Home"}),(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 md:w-6 md:h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})]})}),i.map(((e,t)=>{const l=`/${i.slice(0,t+1).join("/")}`,m=s.find((t=>t.slug===e));return(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4 md:w-5 md:h-5 text-gray-500",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 20.247l6-16.5"})}),(0,n.jsx)("li",{children:(0,n.jsx)(r.N_,{to:l,className:"block transition hover:text-gray-700 text-base md:text-sm font-medium whitespace-nowrap truncate max-w-[100px] md:max-w-none",children:m?m.title:e})})]},l)}))]})})}},2710:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var a=s(8702),l=s(5058),r=s(5043),n=s(4858),m=s(6699),i=s(6213),o=s(7584),c=s(579);const d=()=>{const[e,t]=(0,r.useState)([]),[s,a]=(0,r.useState)([]),[l,d]=(0,r.useState)(""),[x,p]=(0,r.useState)(""),{setBasketData:h,openModal:u,setOpenModal:y,basketData:f}=(0,m.G)(),g=["\u041a\u0438\u0457\u0432","\u0425\u0430\u0440\u043a\u0456\u0432","\u041e\u0434\u0435\u0441\u0430","\u0414\u043d\u0456\u043f\u0440\u043e","\u0417\u0430\u043f\u043e\u0440\u0456\u0436\u0436\u044f","\u041b\u044c\u0432\u0456\u0432","\u041a\u0440\u0438\u0432\u0438\u0439 \u0420\u0456\u0433","\u041c\u0438\u043a\u043e\u043b\u0430\u0457\u0432","\u0412\u0456\u043d\u043d\u0438\u0446\u044f","\u0425\u0435\u0440\u0441\u043e\u043d","\u041f\u043e\u043b\u0442\u0430\u0432\u0430","\u0427\u0435\u0440\u043d\u0456\u0433\u0456\u0432","\u0427\u0435\u0440\u043a\u0430\u0441\u0438","\u0421\u0443\u043c\u0438","\u0416\u0438\u0442\u043e\u043c\u0438\u0440","\u0425\u043c\u0435\u043b\u044c\u043d\u0438\u0446\u044c\u043a\u0438\u0439","\u0420\u0456\u0432\u043d\u0435","\u0406\u0432\u0430\u043d\u043e-\u0424\u0440\u0430\u043d\u043a\u0456\u0432\u0441\u044c\u043a","\u0422\u0435\u0440\u043d\u043e\u043f\u0456\u043b\u044c","\u041b\u0443\u0446\u044c\u043a","\u0423\u0436\u0433\u043e\u0440\u043e\u0434","\u0427\u0435\u0440\u043d\u0456\u0432\u0446\u0456"];(0,r.useEffect)((()=>{console.log(f)}),[f]);const{register:b,handleSubmit:j,watch:v,reset:N,setValue:w,getValues:k,control:_,formState:{errors:C}}=(0,n.mN)();return(0,r.useEffect)((()=>{w("cards",f)}),[f,w]),(0,r.useEffect)((()=>{(async()=>{try{const e=(await i.A.post("https://api.novaposhta.ua/v2.0/json/",{apiKey:"c307c39437e0ab84d133a2266fb9465e",modelName:"Address",calledMethod:"getCities",methodProperties:{}})).data.data.filter((e=>g.includes(e.Description)));t(e)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445:",e)}})()}),[]),(0,r.useEffect)((()=>{(async e=>{try{const t=(await i.A.post("https://api.novaposhta.ua/v2.0/json/",{apiKey:"c307c39437e0ab84d133a2266fb9465e",modelName:"AddressGeneral",calledMethod:"getWarehouses",methodProperties:{CityName:e,limit:"5",page:"1"}})).data.data.filter((e=>"Branch"===e.CategoryOfWarehouse));a(t)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445:",t)}})(l)}),[l]),(0,r.useEffect)((()=>{console.log(e),console.log(l)}),[e,l]),(0,c.jsxs)("form",{id:"payment-form",className:"payment-form my-4",onSubmit:j((e=>{console.log(e),N(),h([]),y(!u),w("delivery",null),w("city",null),w("branche",null)})),children:[(0,c.jsxs)("div",{className:"payment-container flex justify-evenly pt-3 flex-wrap",children:[(0,c.jsxs)("div",{className:"payment-client flex flex-col min-w-64",children:[(0,c.jsx)("h1",{className:"payment-client__title text-xl font-medium mb-4",children:"\u0414\u0430\u043d\u0456 \u043f\u043e\u043a\u0443\u043f\u0446\u044f"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("input",{placeholder:"\u041f\u0406\u0411",type:"text",className:"min-h-8 text-xm pl-2 border-b-2 text-gray-500 outline-none p-3",...b("name",{required:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u0448\u0435 \u0456\u043c \u044f",minLength:{value:10,message:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0438\u0439 \u041f\u0406\u0411"}})}),C.name&&(0,c.jsx)("p",{className:"text-sm text-red-600 mt-2",children:C.name.message})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("input",{placeholder:"email",type:"text",className:"min-h-8 text-xm pl-2 border-b-2 text-gray-500 outline-none p-3",...b("email",{required:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0435\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0443 \u0430\u0434\u0440\u0435\u0441\u0443",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"}})}),C.email&&(0,c.jsx)("p",{className:"text-sm text-red-600 mt-2",children:C.email.message})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("input",{placeholder:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443",type:"number",className:"min-h-8 text-xm pl-2 border-b-2 text-gray-500 outline-none p-3",...b("phone",{required:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443",minLength:{value:12},maxLength:{value:12}})}),C.phone&&(0,c.jsx)("p",{className:"text-sm text-red-600 mt-2",children:C.phone.message})]})]}),(0,c.jsxs)("div",{className:"payment-delivery",children:[(0,c.jsx)("h1",{className:"payment-delivery__title text-xl font-medium mb-4",children:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430"}),(0,c.jsxs)("div",{className:"p-3",children:[(0,c.jsx)(n.xI,{name:"delivery",control:_,rules:{required:"\u041e\u0431\u043e\u0432 \u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435"},render:e=>{let{field:t}=e;return(0,c.jsx)(o.Ay,{...t,placeholder:"\u0421\u043f\u043e\u0441\u0456\u0431 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438",className:"md:max-w-96 md:min-w-96 text-xm text-left",options:[{label:"\u041d\u043e\u0432\u0430 \u043f\u043e\u0448\u0442\u0430",value:"\u041d\u043e\u0432\u0430 \u043f\u043e\u0448\u0442\u0430"},{label:"\u041d\u043e\u0432\u0430 \u043f\u043e\u0448\u0442\u0430(\u043a\u0443\u0440 \u0454\u0440)",value:"\u041d\u043e\u0432\u0430 \u043f\u043e\u0448\u0442\u0430(\u043a\u0443\u0440 \u0454\u0440)"}],onChange:e=>{t.onChange(e),p(e.label)}})}}),C.delivery&&(0,c.jsx)("p",{className:"text-sm text-red-600 mt-2",children:C.delivery.message})]}),"\u041d\u043e\u0432\u0430 \u043f\u043e\u0448\u0442\u0430(\u043a\u0443\u0440 \u0454\u0440)"===x?(0,c.jsxs)("div",{className:"p-3",children:[(0,c.jsx)("input",{placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u0448\u0443 \u0430\u0434\u0440\u0435\u0441\u0443",type:"text",className:"min-h-8 text-xm pl-2 border-b-2 text-gray-500 outline-none p-3",...b("address",{required:"\u041e\u0431\u043e\u0432 \u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435",minLength:{value:5}})}),C.address&&(0,c.jsx)("p",{className:"text-sm text-red-600 mt-2",children:C.address.message})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"p-3",children:[(0,c.jsx)(n.xI,{name:"city",control:_,rules:{required:"\u041e\u0431\u043e\u0432 \u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435"},render:t=>{let{field:s}=t;return(0,c.jsx)(o.Ay,{...s,placeholder:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043c\u0456\u0441\u0442\u043e",className:"md:max-w-96 md:min-w-96 text-xm text-left",options:e.map((e=>({label:e.Description,value:e.Ref}))),onChange:e=>{s.onChange(e),d(e.label)}})}}),C.city&&(0,c.jsx)("p",{className:"text-sm text-red-600 mt-2",children:C.city.message})]}),(0,c.jsxs)("div",{className:"p-3",children:[(0,c.jsx)(n.xI,{name:"branche",control:_,rules:{required:"\u041e\u0431\u043e\u0432 \u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435"},render:e=>{let{field:t}=e;return(0,c.jsx)(o.Ay,{...t,placeholder:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0432\u0456\u0434\u0434\u0456\u043b\u0435\u043d\u043d\u044f",className:"md:max-w-96 md:min-w-96 text-xm text-left",options:l?s.map((e=>({label:e.Description,value:e.Ref}))):[],isLoading:!0,onChange:e=>{t.onChange(e),d(e.label)}})}}),C.branche&&(0,c.jsx)("p",{className:"text-sm text-red-600 mt-2",children:C.branche.message})]})]})]}),(0,c.jsxs)("div",{className:"payment-type min-w-64",children:[(0,c.jsx)("h1",{className:"payment-type__title text-xl font-medium mb-4",children:"\u041e\u043f\u043b\u0430\u0442\u0430"}),(0,c.jsxs)("div",{className:"flex items-baseline flex-col",children:[(0,c.jsxs)("div",{className:"payment-type__wrap",children:[(0,c.jsx)("input",{id:"payment-delivery",name:"payment",type:"radio",value:"payment-delivery",...b("payment",{required:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u0438\u043f \u043e\u043f\u043b\u0430\u0442\u0438"})}),(0,c.jsx)("label",{htmlFor:"payment-delivery",className:"font-light text-xm ml-2",children:"\u041e\u043f\u043b\u0430\u0442\u0430 \u043f\u0440\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u0456"})]}),(0,c.jsxs)("div",{className:"payment-type__wrap pt-2",children:[(0,c.jsx)("input",{id:"payment-card",name:"payment",type:"radio",value:"payment-card",...b("payment",{required:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u0438\u043f \u043e\u043f\u043b\u0430\u0442\u0438"})}),(0,c.jsx)("label",{htmlFor:"payment-card",className:"font-light text-xm ml-2",children:"\u041e\u043f\u043b\u0430\u0442\u0430 \u043a\u0430\u0440\u0442\u043a\u043e\u044e Visa/Mastercard"})]})]}),C.payment&&(0,c.jsx)("p",{className:"text-sm text-red-600 mt-2",children:C.payment.message})]}),(0,c.jsx)("input",{type:"hidden",...b("cards")})]}),(0,c.jsx)("button",{disabled:u,type:"submit",className:"form-button w-full md:w-auto px-6 py-3 mt-6 bg-gray-800 text-white font-semibold transition-all duration-300 hover:bg-gray-600 shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:u?"\u0417\u0430\u0447\u0435\u043a\u0430\u0439\u0442\u0435...":"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0438 \u0442\u043e\u0432\u0430\u0440"})]})};var x=s(9328),p=s(9473),h=s(5475),u=s(184);const y=()=>{const{basketData:e,setBasketData:t,selectSize:n,openModal:i,setOpenModal:o}=(0,m.G)();console.log(e),(0,r.useEffect)((()=>{console.log(i);const e=setTimeout((()=>{o(!1)}),3e3);return()=>{clearTimeout(e)}}),[i]);console.log(n);const y=e.reduce(((e,t)=>e+t.price),0);return(0,r.useEffect)((()=>{console.log("\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043a\u043e\u0440\u0437\u0438\u043d\u044b:",e),console.log("\u0421\u0443\u043c\u043c\u0430 \u043a\u043e\u0440\u0437\u0438\u043d\u044b:",y)}),[e]),(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("section",{className:"basket",children:[(0,c.jsxs)("div",{className:"basket-container flex flex-col h-full lg:w-5/6 xl:w-9/12 mx-auto xs:w-11/12 text-center xs:py-4 xs:my-0",children:[(0,c.jsx)("h1",{className:"basket-title md:mt-12 xs:mt-0 font-medium md:w-max mx-auto text-center md:text-2xl lg:text-3xl uppercase xs:w-max xs:text-xl xl:text-3xl text-black p-2",children:"\u041a\u043e\u0448\u0438\u043a \u0442\u043e\u0432\u0430\u0440\u0456\u0432"}),(0,c.jsx)("span",{className:"line h-0.5 block bg-gray-500 md:w-40 xs:w-28 mx-auto"}),(0,c.jsx)(a.A,{}),(0,c.jsxs)("div",{className:"basket-wrap flex flex-wrap xs:flex-col md:flex-row justify-around",children:[(0,c.jsx)("div",{className:"basket-item",children:e.length>0?e.map((e=>(0,c.jsxs)("div",{className:"basket-item-wrapper",children:[(0,c.jsx)("span",{className:"line block h-px bg-gray-300"}),(0,c.jsxs)("div",{className:"basket-item flex flex-col md:flex-row items-center md:justify-around space-y-4 md:space-y-0 my-10",children:[(0,c.jsxs)("div",{className:"basket-item__info flex xs:flex-col md:flex-row items-center md:w-3/4 text-center md:text-left space-y-2 md:space-y-0",children:[(0,c.jsx)("img",{src:s(7958)(`./${e.image}`),alt:e.title,className:"basket-item__image xs:w-2/4 mx-auto md:mx-0 h-auto w-3/4 md:w-1/5 lg:w-1/6 object-cover"}),(0,c.jsx)("div",{className:"basket-item__details ml-0 md:ml-4 mt-2 md:mt-0 flex-1",children:(0,c.jsx)("h1",{className:"font-light xs:text-lg md:text-lg lg:text-xl text-gray-800 uppercase",children:e.title})}),(0,c.jsxs)("div",{className:"basket-price text-lg md:text-xl font-semibold text-gray-700 mt-1",children:[e.price," \u20b4"]})]}),(0,c.jsx)("div",{className:"basket-item__size text-gray-600 text-sm md:text-base font-medium",children:e.size||(e.category,null)}),(0,c.jsx)("button",{className:"basket-item__trash text-gray-500 hover:text-red-600 transition-colors duration-200 mt-2 md:mt-0",onClick:()=>{return s=e.id,void t((e=>e.filter((e=>e.id!==s))));var s},children:(0,c.jsx)(u.qbC,{size:18})})]}),(0,c.jsx)("span",{className:"line block h-px bg-gray-300"})]},e.id))):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("img",{src:l,alt:"",className:"basket-empty__card w-max h-auto mt-4 mx-auto"}),(0,c.jsx)("h1",{className:"basket-empty__title md:text-xl text-center font-mono py-3.5",children:"\u0423 \u0432\u0430\u0448\u043e\u043c\u0443 \u043a\u043e\u0448\u0438\u043a\u0443 \u043d\u0435\u043c\u0430\u0454 \u0442\u043e\u0432\u0430\u0440\u0456\u0432"})]})}),e.length>0?(0,c.jsxs)("div",{className:"basket-total__wrap xs:w-full xs:mx-auto md:mx-0 md:mt-4 xl:mt-0 md:my-0 xs:my-4 h-max items-start p-4 shadow-lg max-w-64 border bg-zinc-300",children:[(0,c.jsx)("h1",{className:"basket-total__title xs:text-sm md:text-md uppercase font-normal text-black",children:"\u0421\u0443\u043c\u0430 \u043e\u043f\u043b\u0430\u0442\u0438 \u0437\u0430 \u0442\u043e\u0432\u0430\u0440"}),(0,c.jsxs)("div",{className:"basket-total__price w-max md:text-md mx-auto xs:text-xl md:text-3xl font-normal xs:my-3 py-4 text-black border-t border-b border-gray-600",children:[y," \u0433\u0440\u043d"]}),(0,c.jsx)(p.N_,{to:"payment-form",smooth:!0,duration:500,children:(0,c.jsx)("button",{className:"bg-primary border-primary border inline-flex items-center justify-center py-3 px-5 text-center text-sm font-medium text-white hover:bg-[#1B44C8] hover:border-[#1B44C8] disabled:bg-gray-3 disabled:border-gray-3 disabled:text-dark-5 active:bg-[#1B44C8] active:border-[#1B44C8]",children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0434\u043e \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u043d\u044f"})})]}):null]}),(0,c.jsx)(h.N_,{className:"w-max h-max my-8 mx-auto",to:"/",children:(0,c.jsx)("button",{type:"button",className:"px-4 md:py-2.5 md:px-6 p-3 bg-gray-800 text-white font-semibold transition-all duration-300 hover:bg-gray-600 shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u0438\u0441\u044f \u0434\u043e \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0443"})}),e.length>0?(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"line w-1/4 h-0.5 bg-gray-400 mx-auto my-4"}),(0,c.jsx)("h1",{className:"payment-title text-center text-2xl uppercase font-light pt-4",children:"\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,c.jsx)(d,{})]}):null]}),i?(0,c.jsx)(x.A,{title:"\u0422\u043e\u0432\u0430\u0440 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u043e"}):null]})})}}}]);
//# sourceMappingURL=710.d0c49dc0.chunk.js.map