{"version":3,"file":"static/js/10.79bbd44e.chunk.js","mappings":"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","sources":["other/Path.jsx","other/SortByPrice.jsx","pages/ProductListPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useLocation, Link } from 'react-router-dom';\r\nimport slugify from 'slugify'; // Библиотека для транслитерации, она делает обычное название с русского на транслите английского, в целом она делает URL-friendly\r\nimport { Fragment } from 'react';\r\n\r\nimport { useProductContext } from '../hooks/useProductContext';\r\n\r\nconst Path = ({className}) => {\r\n    const [pathData, setPathData] = useState([]);\r\n    const {productData} = useProductContext();\r\n    const location = useLocation(); // Текущая локация, путь в url и другие данные\r\n    const pathnames = location.pathname.split('/').filter((x) => x); // Путь к роуту\r\n    console.log(pathnames)\r\n\r\n    useEffect(() => {\r\n        const dataWithSlugs = productData.map(item => ({...item, slug: slugify(item.title, { lower: true, locale: 'ru' })\r\n        }));\r\n        setPathData(dataWithSlugs);\r\n    }, []);\r\n    \r\n    return (\r\n        <nav className={`${className} my-6`} aria-label=\"Breadcrumb\">\r\n            <ol className=\"flex flex-wrap items-center gap-2 text-sm text-gray-600\">\r\n            <li>\r\n                <Link to=\"/\" className=\"block transition hover:text-gray-700\">\r\n                <span className=\"sr-only\">Home</span>\r\n                <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    className=\"w-5 h-5 md:w-6 md:h-6\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    stroke=\"currentColor\"\r\n                >\r\n                    <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth=\"2\"\r\n                    d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"\r\n                    />\r\n                </svg>\r\n                </Link>\r\n            </li>\r\n\r\n            {pathnames.map((value, index) => {\r\n                const to = `/${pathnames.slice(0, index + 1).join('/')}`;\r\n                const currentItem = pathData.find((item) => item.slug === value);\r\n\r\n                return (\r\n                <Fragment key={to}>\r\n                    <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    strokeWidth=\"1.5\"\r\n                    stroke=\"currentColor\"\r\n                    className=\"w-4 h-4 md:w-5 md:h-5 text-gray-500\"\r\n                    >\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9 20.247l6-16.5\" />\r\n                    </svg>\r\n                    <li>\r\n                    <Link\r\n                        to={to}\r\n                        className=\"block transition hover:text-gray-700 text-base md:text-sm font-medium whitespace-nowrap truncate max-w-[100px] md:max-w-none\"\r\n                    >\r\n                        {currentItem ? currentItem.title : value}\r\n                    </Link>\r\n                    </li>\r\n                </Fragment>\r\n                );\r\n            })}\r\n            </ol>\r\n        </nav>\r\n    );\r\n};\r\n\r\nexport default Path;","import Slider from '@mui/material/Slider';\r\nimport { useProductContext } from '../hooks/useProductContext';\r\nimport Select from 'react-select'\r\nimport { useState } from 'react';\r\n\r\nconst minDistance = 300; // Минимальная дистанция при двух ползунках вместе\r\n\r\nconst SortByPrice = ({category}) => {\r\n  \r\n  const { value, setValue, productData, filteredData, setFilteredData, cards, setSelect, setSortCategory, sortCategory, isLoading, setIsLoading} = useProductContext(); // Вызвали кастомный хук из которого вытащили контекст как наши пропсы\r\n\r\n  const filterChange = (event, newValue, activeThumb) => {\r\n    console.log(newValue) // Новое значение которое помещается в стейт\r\n    console.log(activeThumb) // Активный ползунок\r\n\r\n    if (activeThumb === 0) {\r\n      setValue([Math.min(newValue[0], value[1] - minDistance), value[1]]);\r\n    } else {\r\n      setValue([value[0], Math.max(newValue[1], value[0] + minDistance)]);\r\n    }\r\n  };\r\n\r\n  const selectChange = (selectedOption) => {\r\n    const selectedValue = selectedOption?.value;\r\n    const currentCards = filteredData.filter(item => item.category === category).slice(0, cards); // Берем только загруженные данные\r\n    const filteredLow = currentCards.slice().sort((a, b) => a.price - b.price) // Фильтруем их по цене\r\n    const filteredHigh = currentCards.slice().sort((a, b) => b.price - a.price) // Фильтруем их по цене\r\n    setSelect(selectedValue);\r\n\r\n    if (selectedValue === 'low') {\r\n      console.log('Вибрано от дешевых к дорогим');\r\n      setSelect(filteredLow)\r\n      setFilteredData(filteredLow)\r\n    } else if (selectedValue === 'high') {\r\n      console.log('Вибрано от дорогих к дешевым')\r\n      setSelect(filteredHigh)\r\n      setFilteredData(filteredHigh)\r\n    }\r\n  }\r\n\r\n  const sorting = () => {\r\n    const currentCards = productData.filter(item => item.category === category).slice(0, cards); // Берем только загруженные данные\r\n    const filteredCards = currentCards.filter(item => item.price >= value[0] && item.price <= value[1]); // Фильтруем их по цене\r\n    setFilteredData(filteredCards);\r\n    console.log(filteredData)\r\n  }; // Цена не сортируется по категории одежды, только по всем\r\n\r\n  const reset = () => {\r\n    setFilteredData(productData); // Сброс данных к начальному состоянию\r\n    setValue([0, 4000]);\r\n  };\r\n\r\n  const obj = [\r\n    { value: 'high', label: 'Від дорогих до дешевих' },\r\n    { value: 'low', label: 'Від дешевих до дорогих' }\r\n  ]\r\n\r\n  const uniqueTypes = [...new Set(productData.filter(item => item.category === category).map(item => item.type))];\r\n  // Тонкости работы с new Set\r\n  // Нельзя помещать отфильтрованные данные сразу в JSX разметку, так как Set возвращает примитивные данные(строки, числа, массивы)\r\n  // Для корректной работы нужно разделять логику, например создать переменную и потом её переиспользовать\r\n\r\n  const sortByCategory = (type) => {\r\n    // Сначала фильтруем по категории\r\n    const sortCategory = productData.filter(item => item.type === type)\r\n    setFilteredData(sortCategory)\r\n    setValue([0, 4000]);\r\n    \r\n    console.log(sortCategory); // Массив уникальных 'type' для текущей категории\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"slider-product max-w-full md:max-w-96 bg-white p-4 md:p-6 shadow-lg rounded-lg h-max xs:w-max\">\r\n        <div className=\"slider-title text-left font-semibold text-gray-700 mb-4 uppercase tracking-wide text-sm md:text-base\">\r\n          Ціна\r\n        </div>\r\n        \r\n        <Slider className='!p-0'\r\n          min={0}\r\n          max={4000}\r\n          value={value}\r\n          onChange={filterChange}\r\n          valueLabelDisplay=\"auto\"\r\n          disableSwap\r\n          color=\"secondary\"\r\n          sx={{\r\n            color: '#64748b',\r\n            '& .MuiSlider-thumb': {\r\n              width: 12,  // уменьшенный размер\r\n              height: 12, \r\n              border: '2px solid #475569',\r\n              backgroundColor: '#fff',\r\n              boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\r\n            },\r\n            '& .MuiSlider-track': {\r\n              borderRadius: '8px',\r\n            },\r\n            '& .MuiSlider-rail': {\r\n              opacity: 0.3,\r\n            },\r\n          }}\r\n        />\r\n        \r\n        <div className=\"flex mt-4 md:mt-6 gap-2 md:gap-4\">\r\n          <div className=\"flex items-center w-1/2\">\r\n            <label className=\"title font-semibold text-gray-700 mr-2 text-xs md:text-sm\">Від</label>\r\n            <input\r\n              type=\"number\"\r\n              value={value[0]}\r\n              onChange={(e) => setValue([+e.target.value, value[1]])}\r\n              placeholder=\"Min\"\r\n              className=\"w-3/4 p-1 md:p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-400 text-gray-700 text-xs md:text-sm\"\r\n            />\r\n            <span className=\"text-gray-500 ml-1 text-xs\">₴</span>\r\n          </div>\r\n          \r\n          <div className=\"flex justify-center items-center w-1/2\">\r\n            <label className=\"title font-semibold text-gray-700 mr-2 text-xs md:text-sm\">До</label>\r\n            <input\r\n              type=\"number\"\r\n              value={value[1]}\r\n              onChange={(e) => setValue([value[0], +e.target.value])}\r\n              placeholder=\"Max\"\r\n              className=\"w-3/4 p-1 md:p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-400 text-gray-700 text-xs md:text-sm\"\r\n            />\r\n            <span className=\"text-gray-500 ml-1 text-xs\">₴</span>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"flex justify-around mt-4 md:mt-6 gap-2 md:gap-4\">\r\n          <button\r\n            disabled={isLoading}\r\n            onClick={() => sorting()}\r\n            type=\"button\"\r\n            className=\"py-1.5 px-4 md:py-2.5 md:px-6 text-xs md:text-sm bg-gray-800 text-white font-semibold transition-all duration-300 hover:bg-gray-600 shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\"\r\n          >\r\n            Застосувати\r\n          </button>\r\n          \r\n          <button\r\n            onClick={() => reset()}\r\n            type=\"button\"\r\n            className=\"py-1.5 px-4 md:py-2.5 md:px-6 text-xs md:text-sm border border-gray-300 text-gray-600 font-semibold transition-all duration-300 hover:bg-gray-100 shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-300\"\r\n          >\r\n            Скинути фільтр\r\n          </button>\r\n        </div>\r\n        <div className=\"block w-full mt-4\">\r\n          <label className=\"block mb-2 text-sm font-semibold text-gray-600 w-full uppercase tracking-wide\">\r\n            Сортування\r\n          </label>\r\n            <Select\r\n              placeholder='Сортування за ціною'\r\n              options={obj}\r\n              onChange={value => selectChange(value)}\r\n              className='text-left'\r\n            />\r\n        </div>\r\n\r\n        <div className=\"line h-0.5 w-2/3 block bg-black mx-auto my-4 mt-6\"></div>\r\n\r\n        <div className=\"category\">\r\n          <h1 className=\"category-wrap__title font-normal md:text-lg uppercase\">Категорія одягу</h1>\r\n          <div className=\"category-wrap flex flex-col items-center mt-4\">\r\n          {uniqueTypes.map((type, index) => {\r\n            return <div \r\n            onClick={() => sortByCategory(type)} \r\n            key={index} \r\n            className=\"category-title min-w-48 uppercase bg-gray-700 text-white py-2 font-semibold xs:text-xs md:text-md xs:my-0.5 md:my-2 cursor-pointer hover:bg-black transition\"\r\n            >\r\n              {type}\r\n            </div >\r\n          })}\r\n          </div>\r\n        </div>\r\n      </div>  \r\n    </>\r\n  );\r\n}\r\n\r\nexport default SortByPrice;","import ClipLoader from \"react-spinners/ClipLoader\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport slugify from 'slugify';\r\nimport GetApi from \"../Service/GetProductApi\";\r\nimport Path from '../other/Path'\r\nimport SortByPrice from \"../other/SortByPrice\";\r\nimport { useProductContext } from \"../hooks/useProductContext\";\r\n\r\nconst ProductListPage = ({ category, title}) => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [disabled, setDisabled] = useState(false)\r\n  const {productData, setProductData, filteredData, cards, setCards, setFilteredData, setValue, setSelect} = useProductContext(); // Не забывать что мы достаём всё из контекста поэтому мы пишем именно хук для получения этих пропсов а не параметр компонента\r\n  \r\n  useEffect(() => {\r\n    setCards(6); // Сброс количества отображаемых карточек\r\n    setFilteredData(productData); // Сброс фильтрованных данных\r\n    setValue([0, 4000]); // Сброс диапазона цен\r\n    setSelect(''); // Сброс сортировки\r\n    setDisabled(false); // Сброс кнопки \"Загрузить\"\r\n  }, [category]); // Срабатывает при изменении категории\r\n\r\n  useEffect(() => {\r\n    setFilteredData(productData);\r\n\r\n    setIsLoading(true)\r\n    setTimeout(() => {\r\n      setIsLoading(false);\r\n    }, 1000);\r\n  }, [productData]);\r\n\r\n  const request = () => {\r\n    const filteredItems = productData.filter(item => item.category === category); // Тут получает данные только категория woman\r\n\r\n    if (cards + 3 >= filteredItems.length) {\r\n      console.log('Конец массива');\r\n      setCards(filteredItems.length); // Устанавливаем cards на длину массива, чтобы не увеличивать его дальше\r\n      setDisabled(true)\r\n    } else {\r\n      setCards(prev => prev + 3)\r\n    }\r\n    console.log(filteredData)\r\n  }; \r\n\r\n  const reset = () => {\r\n    setFilteredData(productData);\r\n    setValue([0, 4000]);\r\n  };\r\n\r\n  const handleClick = () => {\r\n    reset();\r\n    request();\r\n  }\r\n\r\n  console.log(filteredData) // количество отфильтрованных карточек\r\n\r\n  const dataToDisplay = filteredData.length === 0 ? productData : filteredData; // Проблема в изначальной загрузке, я загружаю сразу filteredData когда должен изначально загружить productData\r\n  console.log(dataToDisplay)\r\n  return (\r\n    <section className=\"productList\">\r\n      <div className=\"product-container py-10 lg:w-5/6 xl:w-9/12 mx-auto xs:w-11/12 text-center xs:py-4\">\r\n        <h1 className=\"product-title font-medium xs:mt-0 md:mt-12 md:w-max mx-auto text-center md:text-2xl lg:text-3xl uppercase xs:w-max xs:text-xl xl:text-3xl  text-black p-2\">\r\n          {title}\r\n        </h1>\r\n        <span className=\"line h-0.5 block bg-gray-500 md:w-40 xs:w-28 mx-auto\"></span>\r\n\r\n        <Path className=\"flex justify-start my-6\"/>\r\n\r\n        <div className=\"sort-wrap flex md:flex-wrap md:justify-center lg:justify-normal lg:flex-nowrap xs:flex-wrap xs:justify-center\">\r\n          \r\n            <SortByPrice category={category}/>\r\n            \r\n          <div className=\"product-wrap w-full flex flex-wrap justify-center items-center md:my-0 xs:my-6\">\r\n            {isLoading ? <ClipLoader/> : filteredData.length === 0 ? <div className=\"text-gray-500 mt-4 xs:text-sm md:text-xl\">Нічого не знайдено за поточним фільтром.</div> : (\r\n              dataToDisplay\r\n                .filter(item => slugify(item.category, { lower: true, locale: 'ru' }) === category)\r\n                .slice(0, cards)\r\n                .map((item, index) => (\r\n                  <Link\r\n                    key={index}\r\n                    className=\"catalog-block__link border border-gray-200 shadow-md m-4 cursor-pointer hover:shadow-lg transition-transform transform hover:scale-105 xs:w-full xm:w-2/5 sm:w-1/2 md:w-1/3 lg:w-2/5 xl:w-1/3 2xl:w-1/4\"\r\n                    to={`/${'for-' + category}/${slugify(item.title, { lower: true, locale: 'ru' })}`}\r\n                  >\r\n                    <div className=\"catalog-block relative w-full h-full\">\r\n                      <img\r\n                        src={require(`../img/${item.image}`)}\r\n                        alt={item.name}\r\n                        className=\"catalog-block__img w-full h-full object-cover\"\r\n                      />\r\n                      <div className=\"catalog-block__info max-h-max absolute bottom-0 left-0 right-0 bg-white bg-opacity-90 p-4 text-center\">\r\n                        <div className=\"catalog-block__title xs:text-sm font-semibold xl:text-md lg:text-sm text-gray-800\">\r\n                          {item.title}\r\n                        </div>\r\n                        <div className=\"catalog-block__price font-medium text-indigo-500 mt-2\">\r\n                          {item.price} ₴\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </Link>\r\n                ))\r\n            )}\r\n          </div>   \r\n        </div>\r\n        {isLoading ? null : <button\r\n          disabled={disabled}\r\n          onClick={handleClick}\r\n          type=\"button\"\r\n          className={`my-4 py-2.5 px-6 text-sm font-semibold transition-all duration-300 shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 ${\r\n            disabled \r\n              ? \"bg-gray-400 text-gray-300 cursor-not-allowed\" // Стили при disabled\r\n              : \"bg-gray-800 text-white hover:bg-gray-600 focus:ring-gray-500\"\r\n          }`}\r\n        >\r\n          {disabled ? 'Немає товарів' : 'Завантажити'}\r\n        </button>}\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default ProductListPage; // Проблема решена, останется лишь проверить"],"names":["_ref","className","pathData","setPathData","useState","productData","useProductContext","pathnames","useLocation","pathname","split","filter","x","console","log","useEffect","dataWithSlugs","map","item","slug","slugify","title","lower","locale","_jsx","children","_jsxs","Link","to","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","value","index","slice","join","currentItem","find","Fragment","category","setValue","filteredData","setFilteredData","cards","setSelect","setSortCategory","sortCategory","isLoading","setIsLoading","uniqueTypes","Set","type","_Fragment","Slider","min","max","onChange","filterChange","event","newValue","activeThumb","Math","valueLabelDisplay","disableSwap","color","sx","width","height","border","backgroundColor","boxShadow","borderRadius","opacity","e","target","placeholder","disabled","onClick","sorting","filteredCards","price","Select","options","label","selectedOption","selectedValue","currentCards","filteredLow","sort","a","b","filteredHigh","selectChange","sortByCategory","setDisabled","setProductData","setCards","setTimeout","dataToDisplay","length","Path","SortByPrice","ClipLoader","src","require","image","alt","name","handleClick","request","filteredItems","prev"],"sourceRoot":""}